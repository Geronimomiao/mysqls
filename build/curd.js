"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _keys=require("babel-runtime/core-js/object/keys"),_keys2=_interopRequireDefault(_keys);exports.select=select,exports.update=update,exports.insert=insert,exports.delet=delet,exports.query=query;var _uitl=require("./uitl");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function select(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t="";if(this.sqlObj.union)return t=-1!=(t=this.sqlObj.union).substr(-10).indexOf("ALL")?t.replace(/\sUNION\sALL\s*$/,""):t.replace(/\sUNION\s*$/,""),this.sqlObj={},t;var s=(0,_uitl.sortSelectSql)(this.sqlObj);s.sortkeys.forEach(function(e){s.result[e]&&(t=t+" "+s.result[e])});var r="SELECT "+t.replace(/'/g,"'").replace(/`/g,"'")+" ";return e?(this.sqlObj.sqlStr=r,this):(this.sqlObj={},r)}function update(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],s="",r=this.sqlObj.data,l=(0,_keys2.default)(r);l.forEach(function(e,t){s=t==l.length-1?""+s+e+"="+(0,_uitl.checkOptType)(r[e]):""+s+e+"="+(0,_uitl.checkOptType)(r[e])+","});var t=(this.sqlObj.where?"UPDATE "+this.sqlObj.table+" SET "+s+" WHERE "+this.sqlObj.where:"UPDATE "+this.sqlObj.table+" SET "+s).replace(/'/g,"'").replace(/`/g,"'");return e?(this.sqlObj.sqlStr=t,this):(this.sqlObj={},t)}function insert(){var e,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],s="",r="",l=this.sqlObj.data;for(var i in l)s=s?s+","+i:i,r=r?r+","+(0,_uitl.checkOptType)(l[i]):(0,_uitl.checkOptType)(l[i]);e="("+s+") VALUES ("+r+")";var u=("INSERT INTO "+this.sqlObj.table+" "+e).replace(/'/g,"'").replace(/`/g,"'");return t?(this.sqlObj.sqlStr=u,this):(this.sqlObj={},u)}function delet(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=(this.sqlObj.where?"DELETE FROM "+this.sqlObj.table+" WHERE "+this.sqlObj.where:"DELETE FROM "+this.sqlObj.table).replace(/'/g,"'").replace(/`/g,"'");return e?(this.sqlObj.sqlStr=t,this):(this.sqlObj={},t)}function query(e){return e=e||"",1<arguments.length&&void 0!==arguments[1]&&arguments[1]?(this.sqlObj.sqlStr=e,this):e}